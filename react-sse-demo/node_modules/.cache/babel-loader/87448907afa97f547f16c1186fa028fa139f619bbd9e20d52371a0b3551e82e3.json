{"ast":null,"code":"var _jsxFileName = \"/Users/kostyalbalint/Documents/fun/react-sse/react-sse-demo/src/serverEvents/ServerEventsProvider.tsx\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ServerEventsContext = /*#__PURE__*/createContext({});\nexport const ServerEventsProvider = props => {\n  _s();\n  const [serverEvents, setServerEvents] = useState(new EventSource(props.url, {\n    withCredentials: props.withCredentials\n  }));\n  return /*#__PURE__*/_jsxDEV(ServerEventsContext.Provider, {\n    value: serverEvents,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n};\n_s(ServerEventsProvider, \"tgeVkyY07aM/6SNeKxe/v031A34=\");\n_c = ServerEventsProvider;\nvar _c;\n$RefreshReg$(_c, \"ServerEventsProvider\");","map":{"version":3,"names":["React","createContext","useState","jsxDEV","_jsxDEV","ServerEventsContext","ServerEventsProvider","props","_s","serverEvents","setServerEvents","EventSource","url","withCredentials","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/kostyalbalint/Documents/fun/react-sse/react-sse-demo/src/serverEvents/ServerEventsProvider.tsx"],"sourcesContent":["import React, {\n  createContext,\n  PropsWithChildren,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\n\nexport interface ServerEventsContextValue extends EventSource {}\n\nexport const ServerEventsContext = createContext<ServerEventsContextValue>(\n  {} as ServerEventsContextValue,\n);\n\ninterface EventsProviderProps {\n  url: string;\n  withCredentials?: boolean;\n}\n\nexport const ServerEventsProvider = (\n  props: PropsWithChildren<EventsProviderProps>,\n) => {\n  const [serverEvents, setServerEvents] = useState<EventSource>(\n    new EventSource(props.url, { withCredentials: props.withCredentials }),\n  );\n\n  return (\n    <ServerEventsContext.Provider value={serverEvents}>\n      {props.children}\n    </ServerEventsContext.Provider>\n  );\n};\n"],"mappings":";;AAAA,OAAOA,KAAK,IACVC,aAAa,EAIbC,QAAQ,QACH,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAIf,OAAO,MAAMC,mBAAmB,gBAAGJ,aAAa,CAC9C,CAAC,CACH,CAAC;AAOD,OAAO,MAAMK,oBAAoB,GAC/BC,KAA6C,IAC1C;EAAAC,EAAA;EACH,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGR,QAAQ,CAC9C,IAAIS,WAAW,CAACJ,KAAK,CAACK,GAAG,EAAE;IAAEC,eAAe,EAAEN,KAAK,CAACM;EAAgB,CAAC,CACvE,CAAC;EAED,oBACET,OAAA,CAACC,mBAAmB,CAACS,QAAQ;IAACC,KAAK,EAAEN,YAAa;IAAAO,QAAA,EAC/CT,KAAK,CAACS;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACa,CAAC;AAEnC,CAAC;AAACZ,EAAA,CAZWF,oBAAoB;AAAAe,EAAA,GAApBf,oBAAoB;AAAA,IAAAe,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}